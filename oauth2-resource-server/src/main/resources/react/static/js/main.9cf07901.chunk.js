(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(28)},15:function(e,t,n){},16:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),c=n(9),a=n.n(c),i=(n(15),n(16),n(1)),u=(n(27),function(){var e=function(){var e={secure:!0};return{setItem:function(t,n){return window.Cookies.set(t,n,e)},getItem:function(t){return window.Cookies.get(t,e)},removeItem:function(t){return window.Cookies.remove(t,e)},key:function(e){var t=Object.keys(window.Cookies.getJSON());return e>-1&&e<=t.length?t[e]:""}}}(),t=function(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(o){return o instanceof DOMException&&(22===o.code||1014===o.code||"QuotaExceededError"===o.name||"NS_ERROR_DOM_QUOTA_REACHED"===o.name)&&0!==t.length}};return{urlencode:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},getParameterByName:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},cookieStorage:e,storageFactory:{getStorage:function(){return t("sessionStorage")?sessionStorage:t("localStorage")?localStorage:e}}}}()),s={get resource(){return"http://localhost:5051/react/fakeuser"},get tokenRedirect(){return"http://localhost:5051/react/oauth/token"}},l=function(){console.log("NODE_ENV","production");var e=u.urlencode({response_type:"code",client_id:"fooClientIdPassword",scope:"read",redirect_uri:s.tokenRedirect}),t="http://localhost:5050/oauth/authorize/?".concat(e);return Object(o.useEffect)(function(){window.location.href=t},[]),r.a.createElement("div",null,"Authorization")},d=function(){fetch("http://localhost:5050/oauth/token",{method:"post",headers:{"Content-type":"application/json;charset=UTF-8"},body:JSON.stringify({grant_type:"authorization_code",client_id:"fooClientIdPassword",client_secret:"secret",code:u.getParameterByName("code"),redirect_uri:s.tokenRedirect})}).then(function(e){return 2===(e.status/100|0)&&e}).then(function(e){return e.json()}).then(function(e){console.log("Request succeeded with JSON response",e),sessionStorage.setItem("jwtToken",JSON.stringify(e)),window.location.href=s.resource}).catch(function(e){console.log("Request failed",e)})},f=function(){return Object(o.useEffect)(d,[]),r.a.createElement("div",null,"Token")},h={"/authorization":function(){return r.a.createElement(l,null)},"/token":function(){return r.a.createElement(f,null)}},m=function(){var e=Object(i.useRoutes)(h);return r.a.createElement("div",null,e)},g={"/":function(){return r.a.createElement(E,null)},"/oauth*":function(){return r.a.createElement(m,null)},"/fakeuser":function(){return r.a.createElement(w,null)}},p=function(){return r.a.createElement("div",null,"Page not Found")},w=function(){return r.a.createElement("div",null,"Fake User Component")},E=function(){return r.a.createElement("div",null,"This is a showcase of OAuth2 integration in React")},v=function(e){var t=Object(i.useRoutes)(g);return r.a.createElement("div",{className:"App",style:{marginTop:"100px"}},console.log("getWorkingPath",Object(i.getWorkingPath)()),t||r.a.createElement(p,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(i.setBasepath)("/react"),a.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.9cf07901.chunk.js.map